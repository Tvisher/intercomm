@@include('./html/header.html')
<main>
    <section class="media-section media-section__inner article-page">
        <div class="container">
            <a href="javascript:void(0)" class="media-b-image">
                <img src="@img/b-image.png" alt="" />
            </a>
            <div class="media-section__content">
                <div class="media-section__col wide-col">
                    <div class="check-list-wrapper">
                        <div class="check-list-image">
                            <img src="./img/check-list-image.png" alt="">
                        </div>
                        <div class="check-list-title">
                            Проверяем <span class="purple-gradient-selection">экосистему</span> коммуникаций на <br>
                            <span class="green-gradient-selection">устойчивость</span> и эффективность
                        </div>
                        <div class="check-list-descr">
                            Вместе с чек-листом для чек-апа <br>
                            каналов и инструментов внутрикома!
                        </div>

                        <form class="check-list-form " id="check-list-form">
                            <input type="text" class="check-list-form__filed" placeholder="Введите ваш e-mail">
                            <button class="check-list-form__btn">Скачать чек-лист</button>

                            <div class="complite-plate">
                                Ура! Наш чек-ап отправлен!
                            </div>
                        </form>
                    </div>
                </div>

                <div class="media-section__col">
                    <div id="pc-nav-sidebar-parent">
                        <ul class="nav-sidebar services-sidebar" id="nav-sidebar">
                            <li class="nav-sidebar__item sidebar-item active">
                                <div class="sidebar-item__head ">
                                    <a href="javascript:void(0)" class="sidebar-item__link">
                                        <div class="sidebar-item__title">Мой календарь</div>
                                        <div class="sidebar-item__counter">192</div>
                                    </a>
                                </div>
                            </li>

                            <li class="nav-sidebar__item sidebar-item">
                                <div class="sidebar-item__head">
                                    <a href="javascript:void(0)" class="sidebar-item__link">
                                        <div class="sidebar-item__title">Избранное</div>
                                        <div class="sidebar-item__counter">72</div>
                                    </a>
                                </div>
                            </li>

                            <li class="nav-sidebar__item sidebar-item">
                                <div class="sidebar-item__head">
                                    <a href="javascript:void(0)" class="sidebar-item__link">
                                        <div class="sidebar-item__title">Центр сообщений</div>
                                    </a>
                                </div>
                            </li>

                            <li class="nav-sidebar__item sidebar-item">
                                <div class="sidebar-item__head">
                                    <a href="javascript:void(0)" class="sidebar-item__link">
                                        <div class="sidebar-item__title">Настройки</div>
                                    </a>
                                </div>
                            </li>
                            <li class="nav-sidebar__item sidebar-item">
                                <div class="sidebar-item__head">
                                    <a href="javascript:void(0)" class="sidebar-item__link">
                                        <div class="sidebar-item__title">Помощь</div>
                                    </a>
                                </div>
                            </li>
                            <li class="nav-sidebar__item sidebar-item">
                                <div class="sidebar-item__head toggle-open">
                                    <div class="sidebar-item__arrow"></div>
                                    <a href="javascript:void(0)" class="sidebar-item__link">
                                        <div class="sidebar-item__title">Инструменты для сайтов</div>
                                    </a>
                                </div>
                                <ul class="sidebar-item__body toggle-open">
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Шар с поздравлениями</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Калькуляторы</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Типограф</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Система генерации электронных открыток
                                                </div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Сервис рассылок</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Конструктор Квизов/Конкурсов/Викторин
                                                </div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Чат на сайт</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Сервис по оформлению сайта ( плагины
                                                    снег и проч красивоти т.п.)</div>
                                            </a>
                                        </div>
                                    </li>
                                </ul>
                            </li>

                            <li class="nav-sidebar__item sidebar-item">
                                <div class="sidebar-item__head toggle-open">
                                    <div class="sidebar-item__arrow"></div>
                                    <a href="javascript:void(0)" class="sidebar-item__link">
                                        <div class="sidebar-item__title">Коробочные решения</div>
                                    </a>
                                </div>
                                <ul class="sidebar-item__body toggle-open">
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">База знаний</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Модули Bitrix (сразу выводим список
                                                    решений, их будет мало)</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Редактор</div>
                                            </a>
                                        </div>
                                    </li>
                                </ul>
                            </li>

                            <li class="nav-sidebar__item sidebar-item">
                                <div class="sidebar-item__head toggle-open">
                                    <div class="sidebar-item__arrow"></div>
                                    <a href="javascript:void(0)" class="sidebar-item__link">
                                        <div class="sidebar-item__title">Магазин</div>
                                    </a>
                                </div>
                                <ul class="sidebar-item__body toggle-open">
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Покупки</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Индивидуальные заказы</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Техническая поддержка</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">Контентная поддержка</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">3D моделирование</div>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-sidebar__item sidebar-item">
                                        <div class="sidebar-item__head">
                                            <a href="javascript:void(0)" class="sidebar-item__link">
                                                <div class="sidebar-item__title">AR,VR, IVR</div>
                                            </a>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <a href="javascript:void(0)" class="inner-banner _small">
                        <img src="@img/inner-banner.jpg" alt="" class="inner-banner__img" />
                        <div class="inner-banner__content">
                            <h3 class="inner-banner__title">Баннер</h3>
                            <span class="inner-banner__text">Текст текст текст</span>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </section>
</main>
<style>
    .check-list-form.complited .complite-plate {
        opacity: 1;
        visibility: visible;
    }

    .check-list-form.pending * {
        cursor: progress;
    }

    .complite-plate {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: #F0F7FF;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 15px 24px;
        color: #000;
        font-size: 20px;
        font-weight: 700;
        opacity: 0;
        visibility: hidden;
        transition: opacity .3s ease-in-out, visibility .3s ease-in-out;
    }

    .complite-plate::before {
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        width: 3px;
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center;
        content: '';
        z-index: 2;
        background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg width='3' height='112' viewBox='0 0 3 112' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cmask id='path-1-inside-1_2072_2782' fill='white'%3e%3cpath d='M0 0H3V112H0V0Z'/%3e%3c/mask%3e%3cpath d='M0 0H3V112H0V0Z' fill='%23F0F7FF'/%3e%3cpath d='M3 112V0H-3V112H3Z' fill='url(%23paint0_linear_2072_2782)' mask='url(%23path-1-inside-1_2072_2782)'/%3e%3cdefs%3e%3clinearGradient id='paint0_linear_2072_2782' x1='0' y1='0' x2='4.5013e-05' y2='112' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='white'/%3e%3cstop offset='0.5' stop-color='%23EB85DD'/%3e%3cstop offset='1' stop-color='white'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e ");
    }

    .complite-plate::after {
        position: absolute;
        content: '';
        width: 300px;
        height: 300px;
        right: -39px;
        top: 0%;
        transform: translateY(-15%);
        background-image: url(./img/complite-plate-img.png);
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center;
        pointer-events: none;
    }

    .check-list-form {
        display: flex;
        gap: 24px;
        padding: 16px;
        background: #F0F7FF;
        align-items: stretch;
        margin-top: 50px;
        position: relative;
    }

    .check-list-form.err .check-list-form__filed {
        border-color: red;
        color: red;
    }

    .check-list-form__filed {
        padding: 28px 16px;
        color: #000;
        font-size: 20px;
        font-style: italic;
        font-weight: 400;
        line-height: 120%;
        width: 100%;
        display: block;
        margin: 0;
        border-radius: 6px;
        border: 1px solid #D9D9D9;
        background: #FFF;
    }

    .check-list-form__btn {
        padding: 28px 60px;
        color: #FFF;
        text-align: center;
        font-size: 20px;
        font-weight: 700;
        line-height: normal;
        border-radius: 6px;
        background: linear-gradient(90deg, #FF4FA9 0%, #D313A9 100%);
        white-space: nowrap;
    }

    .check-list-descr {
        color: #969098;
        font-size: 24px;
        font-weight: 500;
        line-height: 120%;
    }

    .check-list-wrapper {
        padding-top: 20px;
    }

    .check-list-title {
        padding-top: 20px;
        color: #000;
        font-size: 44px;
        font-weight: 600;
        line-height: 120%;
        margin-bottom: 24px;
    }

    .purple-gradient-selection {
        display: inline;
        background: linear-gradient(90deg, #FF78CF 36.12%, #D617CB 69.22%);
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .green-gradient-selection {
        display: inline;
        background: linear-gradient(90deg, #56E2E3 0%, #00B1BC 40%);
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    @media (max-width: 768px) {
        .check-list-form {
            flex-direction: column;
        }

        .check-list-title {
            font-size: 36px;
        }

        .check-list-descr {
            font-size: 22px;
        }

        .check-list-form__btn,
        .check-list-form__filed {
            padding: 20px 10px;
        }
    }

    @media (max-width: 576px) {
        .check-list-title {
            font-size: 32px;
        }
    }
</style>

<script>
    function isValidEmail(email) {
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailPattern.test(email);
    }
    const checkListForm = document.querySelector('#check-list-form');
    const emailField = checkListForm.querySelector('.check-list-form__filed');

    emailField.addEventListener('input', (e) => {
        checkListForm.classList.remove('err');
    })
    checkListForm.addEventListener('submit', (e) => {
        e.preventDefault();
        if (checkListForm.classList.contains('pending')) return;

        const emailFieldValue = emailField.value.trim();
        if (!isValidEmail(emailFieldValue)) {
            checkListForm.classList.add('err');
            return;
        }
        checkListForm.classList.add('pending');
        // Отправка данных на сервак
        $.ajax({ // инициaлизируeм ajax зaпрoс
            type: 'POST', // oтпрaвляeм в POST фoрмaтe, мoжнo GET
            url: '/ajax/someUrl.php', // путь дo oбрaбoтчикa, у нaс oн лeжит в тoй жe пaпкe
            dataType: 'json', // oтвeт ждeм в json фoрмaтe
            data: { email: emailFieldValue }, // дaнныe для oтпрaвки
            success: function (data) { // сoбытиe пoслe удaчнoгo oбрaщeния к сeрвeру и пoлучeния oтвeтa
                checkListForm.classList.add("complited");
                checkListForm.reset();
                checkListForm.classList.remove('pending');
            },
            error: function (xhr, ajaxOptions, thrownError) { // в случae нeудaчнoгo зaвeршeния зaпрoсa к сeрвeру
                alert(xhr.status); // пoкaжeм oтвeт сeрвeрa
                alert(thrownError); // и тeкст oшибки
                checkListForm.classList.remove('pending');
            },
        });
    })
</script>

@@include('./html/footer.html')